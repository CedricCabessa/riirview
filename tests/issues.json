{
  "url": "REPLACE_URL",
  "repository_url": "https://api.github.com/repos/astral-sh/uv",
  "labels_url": "https://api.github.com/repos/astral-sh/uv/issues/12584/labels{/name}",
  "comments_url": "https://api.github.com/repos/astral-sh/uv/issues/12584/comments",
  "events_url": "https://api.github.com/repos/astral-sh/uv/issues/12584/events",
  "html_url": "https://github.com/astral-sh/uv/issues/12584",
  "id": 2960561808,
  "node_id": "I_kwDOKbIFZc6wdpaQ",
  "number": 12584,
  "title": "Add support for PEP 751",
  "user": {
    "login": "charliermarsh",
    "id": 1309177,
    "node_id": "MDQ6VXNlcjEzMDkxNzc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1309177?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/charliermarsh",
    "html_url": "https://github.com/charliermarsh",
    "followers_url": "https://api.github.com/users/charliermarsh/followers",
    "following_url": "https://api.github.com/users/charliermarsh/following{/other_user}",
    "gists_url": "https://api.github.com/users/charliermarsh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/charliermarsh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/charliermarsh/subscriptions",
    "organizations_url": "https://api.github.com/users/charliermarsh/orgs",
    "repos_url": "https://api.github.com/users/charliermarsh/repos",
    "events_url": "https://api.github.com/users/charliermarsh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/charliermarsh/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "labels": [
    {
      "id": 6034754233,
      "node_id": "LA_kwDOKbIFZc8AAAABZ7MKuQ",
      "url": "https://api.github.com/repos/astral-sh/uv/labels/enhancement",
      "name": "enhancement",
      "color": "D4C5F9",
      "default": true,
      "description": "New feature or improvement to existing functionality"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "Gankra",
    "id": 1136864,
    "node_id": "MDQ6VXNlcjExMzY4NjQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Gankra",
    "html_url": "https://github.com/Gankra",
    "followers_url": "https://api.github.com/users/Gankra/followers",
    "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
    "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
    "organizations_url": "https://api.github.com/users/Gankra/orgs",
    "repos_url": "https://api.github.com/users/Gankra/repos",
    "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Gankra/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "Gankra",
      "id": 1136864,
      "node_id": "MDQ6VXNlcjExMzY4NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gankra",
      "html_url": "https://github.com/Gankra",
      "followers_url": "https://api.github.com/users/Gankra/followers",
      "following_url": "https://api.github.com/users/Gankra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions",
      "organizations_url": "https://api.github.com/users/Gankra/orgs",
      "repos_url": "https://api.github.com/users/Gankra/repos",
      "events_url": "https://api.github.com/users/Gankra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gankra/received_events",
      "type": "User",
      "user_view_type": "public",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2025-03-31T13:48:05Z",
  "updated_at": "2025-04-05T05:58:12Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "type": null,
  "sub_issues_summary": {
    "total": 0,
    "completed": 0,
    "percent_completed": 0
  },
  "active_lock_reason": null,
  "body": "[PEP 751](https://discuss.python.org/t/pep-751-one-last-time/77293/150) is officially accepted.\n\nToday, the PEP 751-style `pylock.toml` files are not sufficient to replace `uv.lock`. The biggest limitation is that there's no support for arbitrary entrypoints to the graph, because `pylock.toml` includes a fixed marker for each package entry rather than recording a graph of dependencies. Specifically, this means `uv run -p` could not be supported (i.e., we couldn't support installing a specific subset of the graph) within the standard.\n\nNotably, though, unlike `requirements.txt`, `pylock.toml` also supports extras and dependency groups by extending the PEP 508 marker syntax. So markers can now express things like \"this extra was enabled\" or \"this dependency group was enabled\". As such, we _could_ potentially use PEP 751-style `pylock.toml` files for single-member workspaces. I don't think this is worth the complexity right now, but it is possible.\n\nSo for now, from uv's perspective, we can think of PEP 751-style `pylock.toml` files as a more modern `requirements.txt`. A `pylock.toml` file captures a set of packages to install, along with the source of those packages. Unlike `requirements.txt`, the format is fully standardized, and it can also model certain pieces of information that `requirements.txt` cannot (e.g., you can specify a package as coming from a specific registry).\n\nAs a first step, we want to support PEP 751-style `pylock.toml` files as an export format in `uv export`, and as an installable format in `uv pip install`. Like `uv pip install --group`, we may want to see how pip chooses to support these files before implementing `uv pip install` support. This requires:\n\n- Adding code to translate `uv.lock` to `pylock.toml` in `uv export`.\n- Supporting `pylock.toml` as a dependency source for `uv pip install`, or maybe _just_ `uv pip sync`?\n- Extending our PEP 508 implementation to understand the new `extras` and `dependency-groups` markers.\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/astral-sh/uv/issues/12584/reactions",
    "total_count": 115,
    "+1": 31,
    "-1": 0,
    "laugh": 0,
    "hooray": 64,
    "confused": 0,
    "heart": 6,
    "rocket": 0,
    "eyes": 14
  },
  "timeline_url": "https://api.github.com/repos/astral-sh/uv/issues/12584/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
